<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager - Simple To-Do App</title>
    <link rel="stylesheet" href="style.css">
   
</head>
<body>
    
    <div class="container">
      
        <div class="header">
            <h1>üìù Task Manager</h1>
            <p>Organize your day, one task at a time!</p>
        </div>

        <div class="input-section">
            <input 
                type="text" 
                id="taskInput" 
                placeholder="Enter a new task..." 
                maxlength="100"
            >
            <button id="addBtn">Add Task</button>
        </div>

       
        <div class="filter-section">
            <button class="filter-btn active" data-filter="all">All Tasks</button>
            <button class="filter-btn" data-filter="pending">Pending</button>
            <button class="filter-btn" data-filter="completed">Completed</button>
        </div>

     
        <ul class="task-list" id="taskList">
       
        </ul>
    </div>

    <script>
       
        let tasks = []; 
        let currentFilter = 'all'; 

     
        const taskInput = document.getElementById('taskInput');
        const addBtn = document.getElementById('addBtn');
        const taskList = document.getElementById('taskList');
        const filterButtons = document.querySelectorAll('.filter-btn');

    
        function init() {
            loadTasksFromStorage(); 
            renderTasks();
            attachEventListeners(); 
        }

      
      
        function loadTasksFromStorage() {
            const savedTasks = localStorage.getItem('tasks');
            if (savedTasks) {
                tasks = JSON.parse(savedTasks);
            }
        }

     
        function saveTasksToStorage() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

       
        
     
        function addTask() {
            const taskText = taskInput.value.trim(); 
            
      
            if (taskText === '') {
                alert('Please enter a task!');
                return;
            }

          
            const newTask = {
                id: Date.now(),
                text: taskText,
                completed: false
            };

           
            tasks.push(newTask);
            
          
            saveTasksToStorage();
            
            
            taskInput.value = '';
            
      
            renderTasks();
        }

        function deleteTask(taskId) {
            tasks = tasks.filter(function(task) {
                return task.id !== taskId;
            });
            
         
            saveTasksToStorage();
            
        
            renderTasks();
        }

   
        function toggleTask(taskId) {
          
            tasks = tasks.map(function(task) {
                if (task.id === taskId) {
                    task.completed = !task.completed;
                }
                return task;
            });
            
        
            saveTasksToStorage();
            
          
            renderTasks();
        }

        function editTask(taskId) {
        
            const task = tasks.find(function(task) {
                return task.id === taskId;
            });
            
            if (!task) return;
            
     
            const newText = prompt('Edit your task:', task.text);
            
         
            if (newText !== null && newText.trim() !== '') {
               
                tasks = tasks.map(function(t) {
                    if (t.id === taskId) {
                        t.text = newText.trim();
                    }
                    return t;
                });
                
            
                saveTasksToStorage();
                
             
                renderTasks();
            }
        }

       
        function getFilteredTasks() {
            if (currentFilter === 'completed') {
                return tasks.filter(function(task) {
                    return task.completed === true;
                });
            } else if (currentFilter === 'pending') {
                return tasks.filter(function(task) {
                    return task.completed === false;
                });
            } else {
                return tasks; 
            }
        }

      
        function setFilter(filter) {
            currentFilter = filter;
            
          
            filterButtons.forEach(function(btn) {
                btn.classList.remove('active');
                if (btn.dataset.filter === filter) {
                    btn.classList.add('active');
                }
            });
            
          
            renderTasks();
        }

     
        function renderTasks() {
            const filteredTasks = getFilteredTasks();
          
            taskList.innerHTML = '';
            
          
            if (filteredTasks.length === 0) {
                taskList.innerHTML = `
                    <div class="empty-state">
                        <span>üì≠</span>
                        <p>No tasks to show!</p>
                    </div>
                `;
                return;
            }
            
       
            filteredTasks.forEach(function(task) {
                const taskItem = document.createElement('li');
                taskItem.className = 'task-item';
                if (task.completed) {
                    taskItem.classList.add('completed');
                }
                
             
                taskItem.dataset.taskId = task.id;
                
           
                taskItem.innerHTML = `
                    <input 
                        type="checkbox" 
                        class="task-checkbox" 
                        ${task.completed ? 'checked' : ''}
                        data-action="toggle"
                    >
                    <span class="task-text">${task.text}</span>
                    <div class="task-actions">
                        <button class="edit-btn" data-action="edit">Edit</button>
                        <button class="delete-btn" data-action="delete">Delete</button>
                    </div>
                `;
                
                taskList.appendChild(taskItem);
            });
        }

        
      
        function attachEventListeners() {
           
            addBtn.addEventListener('click', addTask);
            
           
            taskInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addTask();
                }
            });
            
          
            taskList.addEventListener('click', function(e) {
           
                const taskItem = e.target.closest('.task-item');
                if (!taskItem) return;
                
                const taskId = parseInt(taskItem.dataset.taskId);
                
          
                const action = e.target.dataset.action;
                
             
                if (action === 'toggle') {
                    toggleTask(taskId);
                } else if (action === 'edit') {
                    editTask(taskId);
                } else if (action === 'delete') {
                    deleteTask(taskId);
                }
            });
            
     
            filterButtons.forEach(function(btn) {
                btn.addEventListener('click', function() {
                    setFilter(btn.dataset.filter);
                });
            });
        }

      
        init();
    </script>
</body>
</html>