
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <link rel="stylesheet" href="style.css">
  
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∞ Expense Tracker</h1>
            <p>Track your spending, save smarter</p>
        </div>

        <div class="total-section">
            <h3>Total Expenses</h3>
            <div class="amount">‚Çπ<span id="totalAmount">0.00</span></div>
        </div>

        <div class="grid">
            <div class="card">
                <h2>Add New Expense</h2>
                <form id="expenseForm">
                    <div class="form-group">
                        <label for="title">Expense Title</label>
                        <input type="text" id="title" placeholder="e.g., Grocery Shopping" required>
                    </div>
                    <div class="form-group">
                        <label for="amount">Amount (‚Çπ)</label>
                        <input type="number" id="amount" step="0.01" placeholder="0.00" required>
                    </div>
                    <div class="form-group">
                        <label for="category">Category</label>
                        <select id="category" required>
                            <option value="">Select Category</option>
                            <option value="Food">Food</option>
                            <option value="Transport">Transport</option>
                            <option value="Entertainment">Entertainment</option>
                            <option value="Shopping">Shopping</option>
                            <option value="Bills">Bills</option>
                            <option value="Health">Health</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">Add Expense</button>
                </form>
            </div>

            <div class="card">
                <h2>Expense List</h2>
                <div class="expense-list" id="expenseList">
                    <div class="empty-state">
                        <span>üìù</span>
                        <p>No expenses yet. Add your first expense!</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>Expenses by Category</h2>
            <div class="chart-container">
                <canvas id="expenseChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        let expenses = [];
        let chart = null;

        const form = document.getElementById('expenseForm');
        const expenseList = document.getElementById('expenseList');
        const totalAmountEl = document.getElementById('totalAmount');
        const ctx = document.getElementById('expenseChart').getContext('2d');

        const initChart = () => {
            chart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [],
                    datasets: [{
                        data: [],
                        backgroundColor: [
                            '#ff6b35',
                            '#f7931e',
                            '#fdc830',
                            '#f37335',
                            '#ee4540',
                            '#c73e1d',
                            '#ffb997'
                        ],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15,
                                font: {
                                    size: 14
                                }
                            }
                        }
                    }
                }
            });
        };

        const updateChart = () => {
            const categoryTotals = expenses.reduce((acc, expense) => {
                const { category, amount } = expense;
                acc[category] = (acc[category] || 0) + amount;
                return acc;
            }, {});

            const labels = Object.keys(categoryTotals);
            const data = Object.values(categoryTotals);

            chart.data.labels = labels;
            chart.data.datasets[0].data = data;
            chart.update();
        };

        const calculateTotal = () => {
            const total = expenses.reduce((sum, { amount }) => sum + amount, 0);
            totalAmountEl.textContent = total.toFixed(2);
        };

        const renderExpenses = () => {
            if (expenses.length === 0) {
                expenseList.innerHTML = `
                    <div class="empty-state">
                        <span>üìù</span>
                        <p>No expenses yet. Add your first expense!</p>
                    </div>
                `;
                return;
            }

            expenseList.innerHTML = expenses.map(({ title, amount, category }) => `
                <div class="expense-item">
                    <div class="expense-info">
                        <div class="expense-title">${title}</div>
                        <span class="expense-category">${category}</span>
                    </div>
                    <div class="expense-amount">‚Çπ${amount.toFixed(2)}</div>
                </div>
            `).join('');
        };

        const addExpense = (e) => {
            e.preventDefault();

            const title = document.getElementById('title').value.trim();
            const amount = parseFloat(document.getElementById('amount').value);
            const category = document.getElementById('category').value;

            if (!title || !amount || !category) {
                alert('Please fill in all fields!');
                return;
            }

            if (amount <= 0) {
                alert('Amount must be greater than zero!');
                return;
            }

            const newExpense = { title, amount, category };
            expenses = [...expenses, newExpense];

            form.reset();
            renderExpenses();
            calculateTotal();
            updateChart();
        };

        form.addEventListener('submit', addExpense);

        initChart();
    </script>
</body>
</html>
