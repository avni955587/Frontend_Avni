<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced DOM Applications</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- <h1>üéØ Advanced DOM Applications</h1> -->

        <div class="apps-grid">
            <!-- TODO LIST APP -->
            <div class="app-section">
                <h2>üìù Feature-Rich To-Do List</h2>
                
                <div class="todo-input-container">
                    <input 
                        type="text" 
                        id="todoInput" 
                        placeholder="Enter a new task..."
                        autocomplete="off"
                    >
                    <button id="addBtn">Add Task</button>
                </div>

                <ul id="todoList">
                    <div class="empty-state">
                        <span>üìã</span>
                        <p>No tasks yet. Add one to get started!</p>
                    </div>
                </ul>
            </div>

            <!-- CHESSBOARD GENERATOR -->
            
    <script>
        // ========================================
        // TASK 1: FEATURE-RICH TO-DO LIST APP
        // ========================================

        // STEP 1: Get references to DOM elements
        const todoInput = document.getElementById('todoInput');
        const addBtn = document.getElementById('addBtn');
        const todoList = document.getElementById('todoList');

        // STEP 2: Initialize task counter
        let taskIdCounter = 0;

        // STEP 3: Add event listener to the Add button
        addBtn.addEventListener('click', addTask);

        // STEP 4: Allow Enter key to add tasks
        todoInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                addTask();
            }
        });

        // STEP 5: Main function to add a new task
        function addTask() {
            // Get the task text and remove extra spaces
            const taskText = todoInput.value.trim();

            // Validate - don't add empty tasks
            if (taskText === '') {
                alert('Please enter a task!');
                return;
            }

            // Clear the empty state message if it exists
            const emptyState = todoList.querySelector('.empty-state');
            if (emptyState) {
                emptyState.remove();
            }

            // Create a unique ID for this task
            const taskId = taskIdCounter++;

            // STEP 6: Create the task item (li element)
            const li = document.createElement('li');
            li.className = 'todo-item';
            li.dataset.id = taskId; // Store ID for reference

            // STEP 7: Build the HTML structure for the task
            li.innerHTML = `
                <input type="checkbox" class="todo-checkbox">
                <span class="todo-text">${taskText}</span>
                <div class="todo-actions">
                    <button class="todo-btn up-btn" onclick="moveUp(${taskId})">‚Üë Up</button>
                    <button class="todo-btn down-btn" onclick="moveDown(${taskId})">‚Üì Down</button>
                    <button class="todo-btn delete-btn" onclick="deleteTask(${taskId})">üóëÔ∏è Delete</button>
                </div>
            `;

            // STEP 8: Add checkbox event listener
            const checkbox = li.querySelector('.todo-checkbox');
            checkbox.addEventListener('change', function() {
                // Toggle the 'completed' class when checkbox is clicked
                if (this.checked) {
                    li.classList.add('completed');
                } else {
                    li.classList.remove('completed');
                }
            });

            // STEP 9: Add the task to the list
            todoList.appendChild(li);

            // STEP 10: Clear the input field
            todoInput.value = '';

            // STEP 11: Focus back on input for easy adding
            todoInput.focus();

            // Update button states
            updateButtonStates();
        }

        // STEP 12: Function to move task up
        function moveUp(taskId) {
            // Find the task element by its ID
            const task = document.querySelector(`[data-id="${taskId}"]`);
            
            // Get the previous sibling (task above this one)
            const previousTask = task.previousElementSibling;

            // If there's a task above, swap them
            if (previousTask) {
                todoList.insertBefore(task, previousTask);
                updateButtonStates();
            }
        }

        // STEP 13: Function to move task down
        function moveDown(taskId) {
            // Find the task element
            const task = document.querySelector(`[data-id="${taskId}"]`);
            
            // Get the next sibling (task below this one)
            const nextTask = task.nextElementSibling;

            // If there's a task below, swap them
            if (nextTask) {
                todoList.insertBefore(nextTask, task);
                updateButtonStates();
            }
        }

        // STEP 14: Function to delete a task
        function deleteTask(taskId) {
            // Find the task element
            const task = document.querySelector(`[data-id="${taskId}"]`);
            
            // Add fade-out animation
            task.style.animation = 'slideIn 0.3s ease-out reverse';
            
            // Remove after animation completes
            setTimeout(() => {
                task.remove();
                updateButtonStates();

                // Show empty state if no tasks left
                if (todoList.children.length === 0) {
                    todoList.innerHTML = `
                        <div class="empty-state">
                            <span>üìã</span>
                            <p>No tasks yet. Add one to get started!</p>
                        </div>
                    `;
                }
            }, 300);
        }

        // STEP 15: Update button states (disable up/down when appropriate)
        function updateButtonStates() {
            const tasks = todoList.querySelectorAll('.todo-item');
            
            tasks.forEach((task, index) => {
                const upBtn = task.querySelector('.up-btn');
                const downBtn = task.querySelector('.down-btn');

                // Disable "Up" button for first task
                upBtn.disabled = (index === 0);

                // Disable "Down" button for last task
                downBtn.disabled = (index === tasks.length - 1);
            });
        }


        // ========================================
        // TASK 2: CHESSBOARD GENERATOR
              
           
    </script>
</body>
</html>